2025-03-30 12:28:18,450 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:248]
2025-03-30 12:28:18,451 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:249]
2025-03-30 12:28:18,451 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:258]
2025-03-30 12:28:43,599 INFO: Received callback with args: ImmutableMultiDict([('acct1', 'CR6084375'), ('token1', 'a1-DzXi3pgPC2jyZiUOXBMMX2ye7uk80'), ('cur1', 'USD'), ('acct2', 'VRTC8994441'), ('token2', 'a1-ej6IdJFZGcH5ODPG76lhH0H8FhknB'), ('cur2', 'USD')]) [in /home/runner/workspace/routes.py:264]
2025-03-30 12:28:43,599 INFO: Request URL: http://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback?acct1=CR6084375&token1=a1-DzXi3pgPC2jyZiUOXBMMX2ye7uk80&cur1=USD&acct2=VRTC8994441&token2=a1-ej6IdJFZGcH5ODPG76lhH0H8FhknB&cur2=USD [in /home/runner/workspace/routes.py:265]
2025-03-30 12:28:43,599 INFO: Request method: GET [in /home/runner/workspace/routes.py:266]
2025-03-30 12:28:43,600 INFO: Request headers: {'Host': 'a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Encoding': 'identity, gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0MzMzNjY3OCwianRpIjoiZjhkZGMwMDEtNmU4Yi00MTY5LWE0N2YtMzMwMTJiZjIxZjA4IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjEiLCJuYmYiOjE3NDMzMzY2NzgsImV4cCI6MTc0MzMzNzU3OH0.-2vySvkg0JKpVoRBj9J9x1E3zXWtKXJWsya936aXAZU', 'Referer': 'https://oauth.deriv.com/', 'Sec-Ch-Ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'iframe', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Storage-Access': 'active', 'Sec-Fetch-User': '?1', 'Upgrade-Insecure-Requests': '1', 'X-Forwarded-For': '102.0.15.76, 10.81.9.92', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''} [in /home/runner/workspace/routes.py:267]
2025-03-30 12:28:43,600 INFO: Checking for authentication tokens: code=None, token1=a1-DzXi3pgPC2jyZiUOXBMMX2ye7uk80, token2=a1-ej6IdJFZGcH5ODPG76lhH0H8FhknB [in /home/runner/workspace/routes.py:280]
2025-03-30 12:28:43,600 INFO: Using direct token approach with Deriv API [in /home/runner/workspace/routes.py:285]
2025-03-30 12:28:43,600 INFO: Using token: a1-DzXi3pgPC2jyZiUOXBMMX2ye7uk80 for account: CR6084375 [in /home/runner/workspace/routes.py:295]
2025-03-30 12:28:43,600 INFO: Using Deriv token directly: a1-DzXi3pgPC2jyZiUOXBMMX2ye7uk80 [in /home/runner/workspace/routes.py:299]
2025-03-30 13:04:44,855 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 13:04:44,956 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 13:08:39,450 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 13:08:39,503 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 13:08:40,824 INFO: Database tables verified [in /home/runner/workspace/app.py:126]
2025-03-30 13:09:09,531 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 13:09:09,640 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 13:09:10,401 INFO: Database tables verified [in /home/runner/workspace/app.py:126]
2025-03-30 13:09:39,223 INFO: DERIV LOGIN - Callback URL: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:235]
2025-03-30 13:09:39,223 INFO: Using Deriv's expected scope format: read admin payments trading trading_information [in /home/runner/workspace/routes.py:247]
2025-03-30 13:09:39,224 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:248]
2025-03-30 13:09:39,224 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:249]
2025-03-30 13:09:39,224 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:258]
2025-03-30 13:09:51,219 INFO: Received callback with args: ImmutableMultiDict([('acct1', 'CR6084375'), ('token1', 'a1-LGLVvtA4GvU0lpUiBaT8zmx10Zjo6'), ('cur1', 'USD'), ('acct2', 'VRTC8994441'), ('token2', 'a1-Fd6kMJMutgv6vDHl67AIEu2XwzHPJ'), ('cur2', 'USD')]) [in /home/runner/workspace/routes.py:264]
2025-03-30 13:09:51,219 INFO: Request URL: http://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback?acct1=CR6084375&token1=a1-LGLVvtA4GvU0lpUiBaT8zmx10Zjo6&cur1=USD&acct2=VRTC8994441&token2=a1-Fd6kMJMutgv6vDHl67AIEu2XwzHPJ&cur2=USD [in /home/runner/workspace/routes.py:265]
2025-03-30 13:09:51,219 INFO: Request method: GET [in /home/runner/workspace/routes.py:266]
2025-03-30 13:09:51,220 INFO: Request headers: {'Host': 'a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev', 'User-Agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Mobile Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en-GB;q=0.9,en;q=0.8,ja-JP;q=0.7,ja;q=0.6', 'Referer': 'https://accounts.google.com/', 'Sec-Ch-Ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'Sec-Ch-Ua-Mobile': '?1', 'Sec-Ch-Ua-Platform': '"Android"', 'Sec-Fetch-Dest': 'document', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-User': '?1', 'Upgrade-Insecure-Requests': '1', 'X-Browser-Channel': 'stable', 'X-Browser-Copyright': 'Copyright 2025 Google LLC. All rights reserved.', 'X-Browser-Validation': 'U0DWC1MGFmKCsa28A6B+YyU+dqA=', 'X-Browser-Year': '2025', 'X-Forwarded-For': '102.0.15.76, 10.81.9.92', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''} [in /home/runner/workspace/routes.py:267]
2025-03-30 13:09:51,220 INFO: Checking for authentication tokens: code=None, token1=a1-LGLVvtA4GvU0lpUiBaT8zmx10Zjo6, token2=a1-Fd6kMJMutgv6vDHl67AIEu2XwzHPJ [in /home/runner/workspace/routes.py:280]
2025-03-30 13:09:51,220 INFO: Using direct token approach with Deriv API [in /home/runner/workspace/routes.py:285]
2025-03-30 13:09:51,220 INFO: Using token: a1-LGLVvtA4GvU0lpUiBaT8zmx10Zjo6 for account: CR6084375 [in /home/runner/workspace/routes.py:295]
2025-03-30 13:09:51,220 INFO: Using Deriv token directly: a1-LGLVvtA4GvU0lpUiBaT8zmx10Zjo6 [in /home/runner/workspace/routes.py:299]
2025-03-30 13:11:45,364 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 13:11:45,413 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 13:11:48,640 INFO: Database tables verified [in /home/runner/workspace/app.py:126]
2025-03-30 13:12:35,863 INFO: DERIV LOGIN - Callback URL: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:235]
2025-03-30 13:12:35,865 INFO: Using Deriv's expected scope format: read admin payments trading trading_information [in /home/runner/workspace/routes.py:247]
2025-03-30 13:12:35,865 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:248]
2025-03-30 13:12:35,865 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:249]
2025-03-30 13:12:35,865 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:258]
2025-03-30 13:12:41,814 INFO: Received callback with args: ImmutableMultiDict([('acct1', 'CR6084375'), ('token1', 'a1-orkxBxhIttWmDyL8zA9dqpJz9nXZ7'), ('cur1', 'USD'), ('acct2', 'VRTC8994441'), ('token2', 'a1-3yrsB86dgKX6ac6cIYLDS3f7DFcRs'), ('cur2', 'USD')]) [in /home/runner/workspace/routes.py:264]
2025-03-30 13:12:41,816 INFO: Request URL: http://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback?acct1=CR6084375&token1=a1-orkxBxhIttWmDyL8zA9dqpJz9nXZ7&cur1=USD&acct2=VRTC8994441&token2=a1-3yrsB86dgKX6ac6cIYLDS3f7DFcRs&cur2=USD [in /home/runner/workspace/routes.py:265]
2025-03-30 13:12:41,816 INFO: Request method: GET [in /home/runner/workspace/routes.py:266]
