2025-03-30 14:30:16,228 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:306]
2025-03-30 14:30:16,230 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:307]
2025-03-30 14:30:16,230 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:316]
2025-03-30 14:30:25,926 INFO: Received callback with args: ImmutableMultiDict([('acct1', 'CR6084375'), ('token1', 'a1-7HliFT3B6Y2i5YcLBs469jg8YagrC'), ('cur1', 'USD'), ('acct2', 'VRTC8994441'), ('token2', 'a1-SSJ90ueVNaQAfCwOi1IuQafzlYczj'), ('cur2', 'USD')]) [in /home/runner/workspace/routes.py:322]
2025-03-30 14:30:25,926 INFO: Request URL: http://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback?acct1=CR6084375&token1=a1-7HliFT3B6Y2i5YcLBs469jg8YagrC&cur1=USD&acct2=VRTC8994441&token2=a1-SSJ90ueVNaQAfCwOi1IuQafzlYczj&cur2=USD [in /home/runner/workspace/routes.py:323]
2025-03-30 14:30:25,926 INFO: Request method: GET [in /home/runner/workspace/routes.py:324]
2025-03-30 14:30:25,926 INFO: Request headers: {'Host': 'a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Encoding': 'identity, gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0MzM0MzkwNiwianRpIjoiZmI5OWFmNGEtZjc4ZS00MjFhLWFmZjgtNzExNTU0YmZkZTNkIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjUiLCJuYmYiOjE3NDMzNDM5MDYsImV4cCI6MTc0MzM0NDgwNn0.Cub1Op4ZQsI1NT726j4THUG3WqOKbxvr8Zeve_NXgpA; session=eyJhY2NvdW50X3R5cGUiOiJkZW1vIn0.Z-lTww.JQ2hWzrvcn_ueMYC1K4v8tyDaE8', 'Referer': 'https://oauth.deriv.com/', 'Sec-Ch-Ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'iframe', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Storage-Access': 'active', 'Sec-Fetch-User': '?1', 'Upgrade-Insecure-Requests': '1', 'X-Forwarded-For': '102.0.15.76, 10.81.1.77', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''} [in /home/runner/workspace/routes.py:325]
2025-03-30 14:30:25,927 INFO: Checking for authentication tokens: code=None, token1=a1-7HliFT3B6Y2i5YcLBs469jg8YagrC, token2=a1-SSJ90ueVNaQAfCwOi1IuQafzlYczj [in /home/runner/workspace/routes.py:338]
2025-03-30 14:30:25,927 INFO: Using direct token approach with Deriv API [in /home/runner/workspace/routes.py:343]
2025-03-30 14:30:25,927 INFO: Using token: a1-7HliFT3B6Y2i5YcLBs469jg8YagrC for account: CR6084375 [in /home/runner/workspace/routes.py:353]
2025-03-30 14:30:25,927 INFO: Using Deriv token directly: a1-7HliFT3B6Y2i5YcLBs469jg8YagrC [in /home/runner/workspace/routes.py:357]
2025-03-30 14:30:26,963 INFO: Using account type: demo, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:30:33,417 INFO: Using account type: demo, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:30:42,229 INFO: Using account type: demo, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:30:48,082 INFO: Using account type: real, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:30:56,109 INFO: Using account type: demo, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:31:08,194 INFO: Using account type: real, balance: 0 [in /home/runner/workspace/routes.py:107]
2025-03-30 14:36:07,048 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 14:36:07,106 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 14:36:08,432 INFO: Database tables verified [in /home/runner/workspace/app.py:126]
2025-03-30 14:37:01,487 INFO: Trading Script Platform startup [in /home/runner/workspace/app.py:113]
2025-03-30 14:37:01,531 WARNING: Docker not available. Using mock Docker client for Replit environment [in /home/runner/workspace/tasks.py:204]
2025-03-30 14:37:02,354 INFO: Database tables verified [in /home/runner/workspace/app.py:126]
2025-03-30 14:37:12,386 INFO: DERIV LOGIN - Callback URL: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:300]
2025-03-30 14:37:12,386 INFO: Using Deriv's expected scope format: read admin payments trading trading_information [in /home/runner/workspace/routes.py:312]
2025-03-30 14:37:12,386 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:313]
2025-03-30 14:37:12,386 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:314]
2025-03-30 14:37:12,386 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:323]
2025-03-30 14:37:17,141 INFO: Received callback with args: ImmutableMultiDict([('acct1', 'CR6084375'), ('token1', 'a1-BY1hJ5YgHArTkqPh2oD5CwdNfnDVQ'), ('cur1', 'USD'), ('acct2', 'VRTC8994441'), ('token2', 'a1-Hmp2iUrlT1lR7ygovIabUfjJbPtmh'), ('cur2', 'USD')]) [in /home/runner/workspace/routes.py:329]
2025-03-30 14:37:17,142 INFO: Request URL: http://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback?acct1=CR6084375&token1=a1-BY1hJ5YgHArTkqPh2oD5CwdNfnDVQ&cur1=USD&acct2=VRTC8994441&token2=a1-Hmp2iUrlT1lR7ygovIabUfjJbPtmh&cur2=USD [in /home/runner/workspace/routes.py:330]
2025-03-30 14:37:17,142 INFO: Request method: GET [in /home/runner/workspace/routes.py:331]
2025-03-30 14:37:17,142 INFO: Request headers: {'Host': 'a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Encoding': 'identity, gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0MzM0NTAyNiwianRpIjoiYTNlNDg2YTAtNzhkMi00NjhlLTkyZmUtOGE0ZGY2MDQ0MjllIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjUiLCJuYmYiOjE3NDMzNDUwMjYsImV4cCI6MTc0MzM0NTkyNn0.tZxzMHLXFlXbWxXYlTTqllo3CAgiyPRxSWQjpmEXXOQ; session=eyJhY2NvdW50X3R5cGUiOiJyZWFsIn0.Z-lVqw.ZyxiNl_hBSbxWN2D8uojn5ZK4FA', 'Referer': 'https://oauth.deriv.com/', 'Sec-Ch-Ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'iframe', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Storage-Access': 'active', 'Sec-Fetch-User': '?1', 'Upgrade-Insecure-Requests': '1', 'X-Forwarded-For': '102.0.15.76, 10.81.6.83', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''} [in /home/runner/workspace/routes.py:332]
2025-03-30 14:37:17,142 INFO: Checking for authentication tokens: code=None, token1=a1-BY1hJ5YgHArTkqPh2oD5CwdNfnDVQ, token2=a1-Hmp2iUrlT1lR7ygovIabUfjJbPtmh [in /home/runner/workspace/routes.py:345]
2025-03-30 14:37:17,143 INFO: Using direct token approach with Deriv API [in /home/runner/workspace/routes.py:350]
2025-03-30 14:37:17,143 INFO: Using token: a1-BY1hJ5YgHArTkqPh2oD5CwdNfnDVQ for account: CR6084375 [in /home/runner/workspace/routes.py:360]
2025-03-30 14:37:17,143 INFO: Using Deriv token directly: a1-BY1hJ5YgHArTkqPh2oD5CwdNfnDVQ [in /home/runner/workspace/routes.py:364]
2025-03-30 14:37:18,270 INFO: Using account type: real, balance: 0 [in /home/runner/workspace/routes.py:114]
2025-03-30 14:37:25,968 INFO: Using account type: demo, balance: 0 [in /home/runner/workspace/routes.py:114]
2025-03-30 14:41:14,417 INFO: DERIV LOGIN - Callback URL: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:300]
2025-03-30 14:41:14,418 INFO: Using Deriv's expected scope format: read admin payments trading trading_information [in /home/runner/workspace/routes.py:312]
2025-03-30 14:41:14,418 INFO: URL encoded scope: read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:313]
2025-03-30 14:41:14,418 INFO: Redirect URI: https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback [in /home/runner/workspace/routes.py:314]
2025-03-30 14:41:14,418 INFO: Redirecting to authorization URL: https://oauth.deriv.com/oauth2/authorize?response_type=code&app_id=70547&redirect_uri=https://a7ba38e5-545b-40c7-bf33-055907d2e34a-00-11sipxn7velzs.picard.replit.dev/login/deriv/callback&scope=read%20admin%20payments%20trading%20trading_information [in /home/runner/workspace/routes.py:323]
